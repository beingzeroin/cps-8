#include <stdio.h>
#include <stdlib.h>

char arr[300];
int push(char s,int top)
{
    top++;
    arr[top]=s;
    return top;
}
int pop(int top)
{
    top--;
    return top;
}
char peek(int top)
{
    return arr[top];
}

int main()
{
    char str[200];
    int i,flag,n,top;
    scanf("%d\n",&n);
    while(n--)
    {
        i=0;flag=0;top=-1;
        scanf("%[^\n]%c",str);
        for(i=0;str[i]!='\0';i++)
        {
            if(str[i]=='(')
             {
                top=push(str[i],top);
             }
             else if(str[i]==')')
             {
                 if(peek(top)=='(')
                   top= pop(top);
                 else
                 {
                   flag=1;
                     printf("No");
                     if(n!=0)
                        printf("\n");
                    break;
                 }
             }
             else if(str[i]=='[')
             {
                 top= push(str[i],top);
             }
             else
             {
                 if(peek(top)=='[')
                    top=pop(top);
                 else
                 {
                    flag=1;
                     printf("No");
                     if(n!=0)
                        printf("\n");
                    break;
                 }
             }
        }
        if(top==-1)
        {
        if(flag==0)
        {
        printf("Yes");
        if(n!=0)
            printf("\n");
        }
        }
        else
        {
            printf("No");
            if(n!=0)
                printf("\n");
        }

    }
    return 0;
}
